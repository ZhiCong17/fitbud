<div class="container" data-controller="workout" data-workout-alarm-value="<%= asset_path("alarm.mp3")%>">

  <!-- Exercise -->
  <div data-workout-target="exercise">
    <div class="row">
      <%= link_to raw('<i class="fa-solid fa-arrow-left-long col-1"></i>'), plan_path(@exercise_plan.plan) %>
      <h1 class="mt-3 text-center col-0"><%= @exercise_plan.exercise.title %></h1>
    </div>
    <div class="d-flex justify-content-between align-items-center">
      <div class="row justify-content-center opacity-0">
        <p class="border border-dark circle-small mb-2"></p>
        <p class="text-center mb-0">Sets</p>
      </div>
      <p class="border border-dark circle-large my-3 text-center" data-workout-target="time">00:00</p>
      <div class="row justify-content-center mt-4 pt-1">
        <p class="border border-dark circle-small mb-2"><span data-workout-target="trackerCount"><%= @exercise_plan.trackers.count %></span>/<span data-workout-target="set"><%= @exercise_plan.set %></span></p>
        <p class="text-center mb-0">Sets</p>
      </div>
    </div>
    <button type="button" class="btn btn-primary col-5 my-4 mx-auto py-3 d-block">Start timer</button>
  </div>

  <p class="my-2">Video Guide:</p>
  <div class="video-container mb-3 rounded">
    <iframe class="video" src="https://www.youtube.com/embed/<%=@exercise_plan.exercise.video%>?si=V0zo0dR5x2hAXNTJ&amp;controls=0"
    title="YouTube video player" frameborder="0" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen>
    </iframe>
  </div>
  <p class="mb-2 mt-3">Instructions:</p>
  <% unless @exercise_plan.exercise.description.nil? %>
    <% begin %>
      <% exercise_instructions = JSON.parse(@exercise_plan.exercise.description) %>
        <ol>
          <% exercise_instructions.each do |instruction|  %>
            <li><%= instruction %></li>
          <% end %>
        </ol>
      <% rescue JSON::ParserError %>
      <%= @exercise_plan.exercise.description %>
    <% end %>
  <% end %>
</div>
